# 古籍校勘工具

### 介绍
一个古籍校勘工具，主要用来校对古籍，当然不是古籍也可以。除了古籍校对外还有繁体字简体字互相转换，繁体字异体互相转换，书籍比对，书籍里相似文本搜索等。
(要命，烂代码太多，加新需求时候要崩溃了，下次注意)
### 开发环境
Vue3+Electron+lowdb+express+element plus

### 详细的使用说明
https://www.yuque.com/woniu-avesf/tvyxhx/sg007f

### 功能说明
#### 一、校对和阅读
##### （一）校对
`用于不同版本的书籍校对，此处用两个不同版本的《初学记》作为例子演示校对过程，详细的可以视频。`
###### 上传
- 支持txt和docx两种格式

- 支持拖拽上传和点击上传

- 第一次上传的是底稿，第二次上传的是校对稿

- 下面一行输入框，用于输入分割文本的符号

###### 排序设置

- 每一条文本在比较时，高于阈值一表示此段已经准确找到了；

- 高于阈值二表示大概这一条也是对的(相似度那个红色和蓝色标签也是以此为标准)，而低于阈值三表示没有找到和这段文本相似的文本，此段文本的校对文本会设置成和原文本一样(此处是为了保证文章结构完整)，然后相似度设置为-1；

- 窗口值可以尽量设置小，但是如果出现大面积找不到时就要调大些；

- 忽略繁体/异体表打开后会导致速度变慢，但是效果会好一些。

- 另外繁体异体还有自定义的表都可以在表格设置中查看和更改。

###### 高亮设置

- 在高亮设置中可以忽略因为繁体/简体，繁体/异体，以及自定义表中的差异照成的高亮显示

###### 手动处理有问题文本

- 首先选择排序中的逆序排序

- 查看有问题的文本，双击单元格进入可编辑状态，修改后再次双击单元格恢复

- 由于大量不同是由于标点不同照成分割句子不一样导致的，这些大多是绿色的(绿色高亮表示校对的文本比原文本多出的部分，紫色的文本表示原文本比校对的文本多出的部分，而黄色是两者不同部分)。因为这些绿色的比较多，如果一一处理比较麻烦，所以可以忽略这些，在最后生成的时候忽略这部分就可以了(少数确实不一样的可以自己记录一下)

- 修改没问题了以后点击下一步

###### 文本生成

- 填写好文章标题

- 篇章序号，如果只有一篇的话，就写个1；如果有多篇文章组成一本书的话，就按照章节序号1 2 3……往后些(这些序号就是文章目录的序号)

- 校对配置里同样可以设置忽略和不忽略

- 方式选择：只合并不同表示只标记黄色的，而绿色和紫色的都不标记(因为它们大多数因为标点照成句子分割不均匀导致的)，推荐这样，速度快，而牺牲的只是可能个别有用；而合并不同加多余表示绿色和紫色也加上(如果有时间满满改把绿色和紫色在前面处理好可以选这个)

- 提示格式表示点击时，提示文本的格式，注意{原文}和{异文}代表原文和异文内容，不能随意改动，其他可以随意写

- 最后可以先预览，预览结果无误后可以生成出结果

##### （2）阅读

`在生成章节或者把很多章节封装成书之后，上传到文本阅读，就可以正常阅览了`

- 在文本阅读中可以添加文章，如果是一本书的多篇文章，可以先在小工具中找到封装成书，把章节拖进去封装成书。加号那里上传封面，也可以不上传。

- 点击下面【上传书本/文章内容】上传书本/文章上传好后可以点击进入正常阅读、或者删除等

##### (3)一些设置

- 在一些在校对中的配置属性，设置后，再以后的使用中默认使用改值

#### 二、书本比对
- 在两本书籍中找寻一些相似的内容，比对速度一般比较慢，可能需要几分钟到十几分钟
- 设置中可以设置是否开启忽略简体繁体/繁体异体等；筛选阈值表示保留相似度大于该值的结果，比较深度不用太管，大于0就好
- 比对的结果可以导出，下次再看的时候可以直接导入该表(如果表的行数特别多，打开也是很慢的，所以可以先筛选一下excel表，删掉一些再导入)
- 点击详情，可以查看比较原文

#### 三、文本辞典
`将文本中的文字简历索引`

内容格式必须是：

《xxx》

……………………………………

《xxxxxx》

……………………………………

书名号标记的标题，下面是内容，可以有多本书

#### 四、其他功能
包括简体繁体转换，繁体异体转换，书本搜索等功能

### 软件截图
- 校对页面
![image.png](https://cdn.nlark.com/yuque/0/2022/png/22403152/1645126210940-b770603a-905a-4675-b5cc-3b0d5bd53838.png)
- 校对结果
![image.png](https://cdn.nlark.com/yuque/0/2022/png/22403152/1645126259169-5bbfd019-1211-4eaa-a9e2-f5d31d3f5bc9.png)
- 预览界面
![image.png](https://cdn.nlark.com/yuque/0/2022/png/22403152/1645126296137-66c36a23-80a4-428e-9d7d-7db85660e95b.png)
- 书架界面
![image.png](https://cdn.nlark.com/yuque/0/2022/png/22403152/1645126392048-8f17ac17-3ccc-4f40-9371-7161fbfe265e.png)
- 阅读界面
![image.png](https://cdn.nlark.com/yuque/0/2022/png/22403152/1645126445893-184f4392-e36e-455d-9c0c-bfca38f55fd0.png)
- 书本比对界面
![image.png](https://cdn.nlark.com/yuque/0/2022/png/22403152/1663485268761-bba41c1b-25ef-41bd-8219-c0ed52eaaf2f.png)
- 比对详情
![image.png](https://cdn.nlark.com/yuque/0/2022/png/22403152/1663485305549-5d725a8f-f99a-4126-9296-6acf06acec21.png)
- 文本辞典
![image.png](https://cdn.nlark.com/yuque/0/2022/png/22403152/1663485041330-f934ab96-6422-4cf8-abe6-637d2997ba08.png)
